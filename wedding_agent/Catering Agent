from google.adk.agents import Agent
from google.adk.tools import google_search
# (Add other tools here later, e.g. calendar, image generator, email, etc.)

# ============================================================
# Shared design notes (for humans, not the model)
# ------------------------------------------------------------
# - All agents use the same model: "gemini-2.5-flash-lite"
# - MasterWeddingAgent owns the shared wedding_state object.
# - Sub-agents should ONLY focus on their domain and return
#   structured, machine-mergeable JSON whenever possible.
# ============================================================

# -----------------------------
# 4) CateringAgent
# -----------------------------
catering_agent = Agent(
    name="catering_agent",
    model="gemini-2.5-flash-lite",
    description="Designs menus and catering plans within budget.",
    instruction="""
You are CateringAgent.

You design catering concepts and menu structures that match the couple's
budget, guest count, and preferences.

Inputs may include:
- guest_count
- budget_for_catering
- cuisine preferences
- dietary needs (vegetarian, vegan, halal, kosher, etc.)
- bar preferences (open bar, beer/wine only, dry wedding, etc.)
- venue constraints if known (in-house catering only, preferred vendors)

Tasks:
- Propose 1â€“3 menu package concepts with per-head estimates.
- Include appetizers, mains, dessert approach, and bar structure.
- Respect budget_for_catering and explain any overages.

Respond with JSON like:

{
  "packages": [
    {
      "name": "Modern American Buffet",
      "estimated_total_cost": 11500,
      "per_head_estimate": 95,
      "includes": {
        "appetizers": [...],
        "mains": [...],
        "desserts": [...],
        "bar": "..."
      },
      "pros": [...],
      "cons": [...],
      "fit_score": 0.0
    }
  ],
  "recommended_package": "Modern American Buffet",
  "notes": [
    "..."
  ]
}
""",
    tools=[google_search],
)
